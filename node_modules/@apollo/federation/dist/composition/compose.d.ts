import 'apollo-server-env';
import 'apollo-env';
import { GraphQLSchema, GraphQLError, TypeDefinitionNode, TypeExtensionNode } from 'graphql';
import { ServiceDefinition, ExternalFieldDefinition, ServiceNameToKeyDirectivesMap } from './types';
interface DefinitionsMap {
    [name: string]: TypeDefinitionNode[];
}
interface ExtensionsMap {
    [name: string]: TypeExtensionNode[];
}
interface TypeToServiceMap {
    [typeName: string]: {
        owningService?: string;
        extensionFieldsToOwningServiceMap: {
            [fieldName: string]: string;
        };
    };
}
export interface KeyDirectivesMap {
    [typeName: string]: ServiceNameToKeyDirectivesMap;
}
declare type ValueTypes = Set<string>;
export declare function buildMapsFromServiceList(serviceList: ServiceDefinition[]): {
    typeToServiceMap: TypeToServiceMap;
    definitionsMap: DefinitionsMap;
    extensionsMap: ExtensionsMap;
    externalFields: ExternalFieldDefinition[];
    keyDirectivesMap: KeyDirectivesMap;
    valueTypes: Set<string>;
};
export declare function buildSchemaFromDefinitionsAndExtensions({ definitionsMap, extensionsMap, }: {
    definitionsMap: DefinitionsMap;
    extensionsMap: ExtensionsMap;
}): {
    schema: GraphQLSchema;
    errors: GraphQLError[];
};
export declare function addFederationMetadataToSchemaNodes({ schema, typeToServiceMap, externalFields, keyDirectivesMap, valueTypes, }: {
    schema: GraphQLSchema;
    typeToServiceMap: TypeToServiceMap;
    externalFields: ExternalFieldDefinition[];
    keyDirectivesMap: KeyDirectivesMap;
    valueTypes: ValueTypes;
}): void;
export declare function composeServices(services: ServiceDefinition[]): {
    schema: GraphQLSchema;
    errors: GraphQLError[];
};
export {};
//# sourceMappingURL=compose.d.ts.map